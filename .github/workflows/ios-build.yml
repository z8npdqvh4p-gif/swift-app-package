<<<<<<< HEAD
name: Build iOS

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: macos-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Select Xcode
        run: sudo xcode-select -s /Applications/Xcode.app

      - name: Show Xcode version
        run: xcodebuild -version

      - name: Install dependencies (CocoaPods, если нужно)
        run: |
          if [ -f "Podfile" ]; then
            sudo gem install cocoapods
            pod install --repo-update
          fi

      # Если у тебя пока без подписания и просто debug-сборка:
      - name: Build iOS app (Debug, unsigned)
      - name: Build iOS app (Debug, unsigned)
  run: |
    xcodebuild ^
      -project "App/AppProject.xcodeproj" ^
      -scheme "iOS" ^
      -sdk iphoneos ^
      -configuration Debug ^
      -destination 'generic/platform=iOS' ^
      clean build


      # Если хочешь сразу архив (.xcarchive) + ipa без подписи
      # - name: Archive app
      #   run: |
      #     xcodebuild \
      #       -workspace "YourApp.xcworkspace" \
      #       -scheme "YourScheme" \
      #       -sdk iphoneos \
      #       -configuration Release \
      #       -destination 'generic/platform=iOS' \
      #       -archivePath $RUNNER_TEMP/App.xcarchive \
      #       clean archive

      # - name: Export .ipa (AdHoc/Dev, нужен ExportOptions.plist)
      #   run: |
      #     xcodebuild -exportArchive \
      #       -archivePath $RUNNER_TEMP/App.xcarchive \
      #       -exportOptionsPlist ExportOptions.plist \
      #       -exportPath $RUNNER_TEMP/build

      - name: Upload build artifacts
        uses: actions/upload-artifact@v4
        with:
          name: ios-build
          path: |
            build/
            *.xcarchive
            ${{ runner.temp }}/build
=======
name: iOS Build

on:
  workflow_dispatch:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: macos-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Build Swift Package
      run: swift build
>>>>>>> 12e817665a869ac81724c1790b191cca18c3d208
